---
Name: silverstripe-manticore-search-test-models
After: freetextindexes
Only:
  envvarset:
    - UNIT_TESTING_CONFIG_ENABLED
---

# Travis uses Docker with port 9308 forwarded to localhost
Suilven\ManticoreSearch\Service\Client:
  host: '127.0.0.1'

Suilven\FreeTextSearch\Indexes:
  indexes:
    - index:
        name: members
        class: SilverStripe\Security\Member

        # Free text searchable
        fields:
          - FirstName
          - Surname
          - Email

    - index:
        name: flickrphotos
        class: Suilven\ManticoreSearch\Tests\Models\FlickrPhoto

        fields:
          - Title
          - Description
          - IsPublic # boolean
          - AspectRatio # float

        tokens:
          - Aperture
          - ShutterSpeed
          - ISO

        has_many_many:
          - Suilven\ManticoreSearch\Tests\Models\FlickrSet

        has_one:
          - Suilven\ManticoreSearch\Tests\Models\FlickrAuthor

        # Multi valued attribute
        has_many:
          - Suilven\ManticoreSearch\Tests\Models\FlickrTag


      # Facets or filterable
 #     tokens:
  #      - Aperture
 #       - ShutterSpeed
#        - ISO
 ##       - TakenAt
 #       - FlickrPlaceID
 #       - FocalLength35mm
