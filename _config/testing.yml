---
Name: test-models
After: freetextindexes
Only:
  envvarset:
    - UNIT_TESTING
---

Suilven\SphinxSearch\Service\Client:
  host: 'manticore'

Suilven\FreeTextSearch\Indexes:
  indexes:
    - index:
        name: flickrphotos
        class: Suilven\ManticoreSearch\Tests\Models\FlickrPhoto

        fields:
          - Title
          - Description

        tokens:
          - Aperture
          - ShutterSpeed
          - ISO

        has_many_many:
          - Suilven\ManticoreSearch\Tests\Models\FlickrSet

        has_one:
          - Suilven\ManticoreSearch\Tests\Models\FlickrAuthor

        # Multi valued attribute
        has_many:
          - Suilven\ManticoreSearch\Tests\Models\FlickrTag

    - index:
        name: members
        class: SilverStripe\Security\Member

        # Free text searchable
        fields:
          - FirstName
          - Surname
          - Email

        # Multi valued attribute in Manticore
      #has_many:
      #  - FlickrTags

      # Facets or filterable
 #     tokens:
  #      - Aperture
 #       - ShutterSpeed
#        - ISO
 ##       - TakenAt
 #       - FlickrPlaceID
 #       - FocalLength35mm
